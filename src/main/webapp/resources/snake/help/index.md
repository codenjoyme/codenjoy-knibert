<meta charset="UTF-8">

## Вступление

Игровой demo-сервер доступен так же в интернете 24/7 в целях
ознакомления [http://codenjoy.com/codenjoy-contest](http://codenjoy.com/codenjoy-contest).

Игра с открытым исходным кодом. Для реализации своей игры, исправления
ошибок в текущей и внесения других правок необходимо для начала
[форкнуть проект](https://github.com/codenjoyme/codenjoy.git).
В корне репозитория есть описание в файле Readme.md - там описано, что делать дальше.

По возникающим вопросам, пиши в [skype alexander.baglay](skype:alexander.baglay)
или на почту [apofig@gmail.com](mailto:apofig@gmail.com).

## В чем суть игры?

Надо написать своего бота для змейки, который обыграет других
ботов по очкам. Каждый игрок играет на своем поле. Змейка может передвигаться
по свободным ячейкам во все четыре стороны.

На своем пути змейка может повстречать яблочко, камень, свой хвост и стену.
В случае если змейка съест яблочко - она удлиннится на 1. Если же испробует
камень - укоротится на 10 клеток. Если ее длинна меньше 10 - съев камень она погибнет.
Если змейка попробует на вкус себя или стену - так же погибнет.

За съеденные яблочки игроку начисляются бонусные очки в
размере длинны змейки на данный момент за каждое яблоко.
За смерть змейки - могут отниматься штрафные очки (по-умолчанию 0, уточни у ведущего мероприятия).
Очки суммируются. Побеждает игрок с большим числом очков (до условленного
времени). Мертвая змейка тут же пропадает и на поле появляется новая.

## Подключение к серверу

Итак, игрок [регистрируется на сервере](../../../register?gameName=snake),
указывая свой email.

Далее необходимо подключиться из кода к серверу через websocket.
[Эта подборка](https://github.com/codenjoyme/codenjoy-clients.git)
клиентов для разных языков программирования тебе поможет в твоей игре.
Как запустить клиент смотри в корне проекта в файле README.md.

Если ты не можешь найти свой язык - придется написать свой клиент
(а после пошарить с нами на почту [apofig@gmail.com](mailto:apofig@gmail.com))

Адрес для подключения к игре на сервере выглядит так (ты можешь скопировать его
из игровой комнаты):

`https://[server]/codenjoy-contest/board/player/[user]?code=[code]`

Тут `[server]` - домен или ip-адрес игрового сервера, `[user]` - id игрока, a `[code]` -
твой security token. Убедись что код хранится в тайне, иначе любой участник
сможет играть от твоего имени.

В коде твоего клиента тебе нужно найти похожую строчку и заменить её твоим URL -
тем самым, ты задаёшь логин/пароль для доступа к серверу.
Затем запусти твой клиент и убедись, что сервер получает команды твоего клиента.
После этого можно приступать к работе над логикой бота.

После подключения клиент будет регулярно (каждую секунду) получать строку
символов — с закодированным состоянием поля. Формат таков:

`^board=(.*)$`

с помощью этого regexp можно выкусить строку доски.
Вот пример строки от сервера:

<pre>board=☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼             ☼☼      ☻      ☼☼            ☺☼☼            ▲☼☼            ║☼☼            ║☼☼            ║☼☼            ╙☼☼             ☼☼             ☼☼             ☼☼             ☼☼             ☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼</pre>

Длинна строки равна площади поля `N*N`. Если вставить символ
переноса строки каждые `N=sqrt(length(string))` символов, то
получится читабельное изображение поля.

<pre>☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼
☼             ☼
☼      ☻      ☼
☼            ☺☼
☼            ▲☼
☼            ║☼
☼            ║☼
☼            ║☼
☼            ╙☼
☼             ☼
☼             ☼
☼             ☼
☼             ☼
☼             ☼
☼☼☼☼☼☼☼☼☼☼☼☼☼☼☼</pre>

Первый символ строки соответствует ячейке расположенной в 
левом верхнем углу и имеет координату `[0, 0]`. 
В этом примере - позиция головы змейки (символ `▲`) - 
`[13, 10]`, а камня (символ ☻) - `[7, 12]`.

## Расшифровка символов

Расшифровку символов ты можешь [найти тут](elements.md).

## Как играть?

Игра пошаговая, каждую секунду сервер посылает твоему клиенту
состояние обновленного поля на текущий момент и ожидает ответа команды змейке.
За следующую секунду игрок должен успеть дать команду змейке.
Если не успел — змейка движется по инерции (пока не найдет стенку).

Твоя цель заставить змейку двигаться в соответствии с задуманным тобой алгоритмом.
Змейка на поле должна уметь зарабатывать так много очков, как только сможет.
Основная цель игры - обыграть по очкам всех соперников.

## Команды управления

Команд несколько:

* `UP`, `DOWN`, `LEFT`, `RIGHT` – приводят к повороту головы
  змейки в заданном направлении. 
* Напомню, что змея движется по инерции, отсутствие команды не 
  останавливает ее.

Для начала заставь змейку слушаться твои команды. Если же клиента для твоего языка нет,
то все несколько усложняется - тебе предстоит написать WebSocket клиента.
Так ты подготовишься к основной игре. Дальше твоя задача написать бота,
который проведет осмысленную игру на поле и победит.

Но если клиент реализован на твоем языке программирования -
у тебя будет возможность использовать более высокоуровневое API:
Board - инкапсулирующий эту строку с полезными методами для поиска элементов на доске, и
YourSolver - пустой класс одним методом - его тебе и предстоит наполнить умной логикой.
